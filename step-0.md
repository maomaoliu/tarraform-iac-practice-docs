
## 需求分析

- 作为开发团队
  - 编写可靠的业务代码，持续集成
    - 选用 Github Actions，作为持续集成流水线
    - 编写 K8S 配置文件，使应用程序可以在 K8S 平台部署运行
  - 创建微服务使用的数据库
  - 配置不同环境的业务参数（不敏感信息）和依赖服务的认证信息（敏感信息）
- 作为 devops/平台团队
  - 提供平台和基础设施
    - Github，作为代码仓库
    - K8S集群，以部署来自开发团队的应用程序
    - Ingress 控制器，支持出口路由配置
    - ArgoCD，支持持续部署
  - 环境管理
  - 提供接口，支持开发团队完成服务部署
    - 配置管理的代码惯例
    - 数据库创建接口
  - 服务监控与恢复

## 任务清单

本着小步快跑的方式，我们采用任务分解的方式逐步完成上述的需求。

- [ ] 搭建本地K8S集群
- [ ] 编写K8S配置文件，部署应用程序到集群
- [ ] 使用 Terraform 管理应用程序所需的两套基础设施
- [ ] 部署应用程序到两套环境
- [ ] 创建 Ingress 控制器，配置出口路由
- [ ] GitOps 持续部署
  - [ ] 使用 Git 管理 K8S配置文件和 Image 版本
  - [ ] 部署 ArgoCD，实现自动化部署

## 注意事项

- 每一步的练习过程中，你的修改都会作为前置步骤在下一步继续使用，因此，执行下一步时，使用 `rebase/merge next-branch` 而不要直接 `checkout next-branch`
- 为了保持说明的完整性，步骤中可能会存在一部分代码与你完成的代码相似，请在 rebase/merge 时注意选择，保留你认为更合适的即可